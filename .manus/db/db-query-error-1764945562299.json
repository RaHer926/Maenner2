{
  "query": "DROP TABLE IF EXISTS survey_recommendations CASCADE;\nDROP TABLE IF EXISTS surveys CASCADE;\nDROP TABLE IF EXISTS patients CASCADE;\n\nCREATE TABLE patients (\n  id SERIAL PRIMARY KEY,\n  first_name VARCHAR(255) NOT NULL,\n  last_name VARCHAR(255) NOT NULL,\n  date_of_birth VARCHAR(10),\n  email VARCHAR(255),\n  phone VARCHAR(50),\n  patient_number VARCHAR(100) UNIQUE,\n  created_by INTEGER,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE surveys (\n  id SERIAL PRIMARY KEY,\n  patient_id INTEGER NOT NULL REFERENCES patients(id) ON DELETE CASCADE,\n  language VARCHAR(10) DEFAULT 'de' NOT NULL,\n  answers JSONB NOT NULL,\n  scores JSONB NOT NULL,\n  total_score INTEGER,\n  completed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  created_by INTEGER,\n  notes TEXT\n);\n\nCREATE TABLE survey_recommendations (\n  id SERIAL PRIMARY KEY,\n  survey_id INTEGER NOT NULL REFERENCES surveys(id) ON DELETE CASCADE,\n  section TEXT NOT NULL,\n  recommendation TEXT NOT NULL,\n  priority TEXT,\n  status TEXT DEFAULT 'pending',\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2XMn4eNw3K5Y5uc.root --database htCSxHNxQr3BbordHdEaAe --execute DROP TABLE IF EXISTS survey_recommendations CASCADE;\nDROP TABLE IF EXISTS surveys CASCADE;\nDROP TABLE IF EXISTS patients CASCADE;\n\nCREATE TABLE patients (\n  id SERIAL PRIMARY KEY,\n  first_name VARCHAR(255) NOT NULL,\n  last_name VARCHAR(255) NOT NULL,\n  date_of_birth VARCHAR(10),\n  email VARCHAR(255),\n  phone VARCHAR(50),\n  patient_number VARCHAR(100) UNIQUE,\n  created_by INTEGER,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\nCREATE TABLE surveys (\n  id SERIAL PRIMARY KEY,\n  patient_id INTEGER NOT NULL REFERENCES patients(id) ON DELETE CASCADE,\n  language VARCHAR(10) DEFAULT 'de' NOT NULL,\n  answers JSONB NOT NULL,\n  scores JSONB NOT NULL,\n  total_score INTEGER,\n  completed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  created_by INTEGER,\n  notes TEXT\n);\n\nCREATE TABLE survey_recommendations (\n  id SERIAL PRIMARY KEY,\n  survey_id INTEGER NOT NULL REFERENCES surveys(id) ON DELETE CASCADE,\n  section TEXT NOT NULL,\n  recommendation TEXT NOT NULL,\n  priority TEXT,\n  status TEXT DEFAULT 'pending',\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);",
  "returncode": 1,
  "logs": [
    "ERROR 1064 (42000) at line 18: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 5 column 16 near \"JSONB NOT NULL,",
    "  scores JSONB NOT NULL,",
    "  total_score INTEGER,",
    "  completed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,",
    "  created_by INTEGER,",
    "  notes TEXT",
    ")\""
  ]
}